## Настройки пользователя СУБД (MS SQL Server 19)

### SQL Server Management Studio
1. В дереве Object Explorer раскрываем ветки ```Security``` ---> ```Ligins``` ---> ```Правой кнопкой мыши``` ---> ```New Login```
![alt text](<00. Дерево Object Explorer.png>)

2. Заполняем сведения на вкладке ```General```
```Login name``` - имя пользователя
```Password``` - пароль, если выбрана аутентификация SQL сервера
```Enforce password expiration``` - установите при необходимости периодически менять пароль
```Default database``` - база, которая будет открываться при входе под этим логином
![alt text](<01. Свойства логина - вкладка General.png>)

3. Вкладка ```Server Roles```
Здесь нужно отметить только роли ```dbcreator```, роль ```public``` не доступна для редактирования и отмечена по умолчанию.

    ![alt text](<02. Свойства логина - вкладка Server Roles.png>)

4. На вкладке ```User mapping``` необходимо отметить системные базы ```master```, ```model```, ```msdb``` и целевую, в моем случае, это ```zup_mssql```, как показано на скриншотах ниже.
Внизу, в ```Database role membership for``` не нужно дополнительно ничего отмечать, кроме целевой базы - в ней нужно отметить членство в ролях: ```db_backupoperator``` и ```db_ddladmin```. ```public``` отмечена по умолчанию и не редактируется.

    ![alt text](<03. Свойства логина - вкладка User Mapping база master.png>)
    ---
    ![alt text](<04. Свойства логина - вкладка User Mapping база model.png>)
    ---
    ![alt text](<05. Свойства логина - вкладка User Mapping база msdb.png>)
    ---
    ![alt text](<06. Свойства логина - вкладка User Mapping целевая база.png>)

### Обновлятор

1. Открыть свойства базы

   <img width="649" height="1031" alt="image" src="https://github.com/user-attachments/assets/f5427900-a76f-4648-a8c1-e5a0b2aa938f"/>

3. Выполнить настройки так, как показано на скриншоте ниже:
    * На вкладке ```Общие``` нужно открыть СУБД.
    * Выбрать сервер СУБД под управлением MS SQL. В моем случае, это ```SRV_HOME\DEV```.
    * В нем нужно изменить имя администратора с ```sa``` по умолчанию на имя служебного пользователя, в моем случае, это ```updater_mssql```.

        Сохраните настройки и проверьте выполнение бэкапа и восстановления базы.

        ![alt text](<07. Настройки в Обновляторе.png>)


Видео с демонстрацией архивирования и восстановления информационной базы 1С с помощью Обновлятора можете посмотреть в [сообществе VK](https://vkvideo.ru/video-230942526_456239026) и [на канале в rutube](https://rutube.ru/channel/766472/playlists/).


